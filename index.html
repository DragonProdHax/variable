<!doctype html>
<html>

<head>
    <title>Play Prodigy</title>
    <meta
        name="description"
        content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math."
     />
    <meta
        property="og:title"
        content="Play Prodigy"
    />
    <meta
        property="og:description"
        content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math."
    />
    <meta
        name="twitter:title"
        content="Play Prodigy"
    />
    <meta
        name="twitter:description"
        content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math."
    />
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/error-a36dfdf098.css">


    <script>
        // Do this first so that errors for all subsequent executed code is captured

        var prodigyServiceUrl = 'https://api.prodigygame.com/';
        var prodigyEducationFrontendAssetsUrl = '';
        var prodigyWebUrl = 'https://www.prodigygame.com/';
        var prodigyUrlPrefix = '/';
        var gameStatusDataStr = '{"ServerGameVersion":"1.0.0","maintenance":false,"maintenanceMessage":"Prodigy Math will be back shortly. Please try again in a couple of minutes.","gameClientVersion":"6.234.1","gameLibPath":"https://code.prodigygame.com/lib/","gameCodePath":"https://code.prodigygame.com/code/6.234.1/","prodigyGameFlags":{"experimentLE3LaneB":true,"autoAttackDisabled":true,"isDatadogRumEnabled":false,"videoLessonInstantWin":false,"synapseMultiplayerJoinEnabled":true,"enableEducationApiJwtAuth":true,"gameDataPath":"https://cdn.prodigygame.com/game/data/production/","parentAttachTrial":{"startDate":"March 14, 2019 00:00:00","endDate":"April 11, 2019 00:00:00","trialLengthDays":7,"exclusionLanes":[0,1,2,3,4,5,6,7,8,9]},"synapseMultiplayerTransformEnabled":true,"enabledEvents":{"login":true,"toy-event":false,"PVP":true,"epicAttacks":true,"pvp-season-reward":true,"game_complete":false,"game_complete_v3":false,"member-ad":true,"new-member":true,"survey-results":true,"create-character":true,"zone-event":true,"item-change-event":true,"conversion-funnel-event":true,"battle-start-type":true,"game_social":true,"game_social_v3":false,"game_source":true,"game_source_v3":false,"game_sink":true,"game_sink_v3":false,"game_avatar_v3":false,"game_mod":true,"game_battle_v3":false,"anonymous_game_complete_v3":false,"game_question_v3":false,"game_session_start":true,"game_avatar":true,"game_level_up":true,"game_discovery_v3":false,"education_lesson_encounter_v3":false,"education_question_interface_v3":false,"game_session_start_v3":false,"anonymous_game_discovery":true},"coOpTitanDisabled":false,"enableUserReportingButton":false,"launcher-datadogReplaySampleRate":0,"gameAssetsVersion":337,"setFest":0,"showClassCodeOnLogin":true,"loader-gameClientOverride":false,"titanShardMultiplier":{"startDate":"2021-11-02T12:00:00.000Z","endDate":"2021-11-08T05:00:00.000Z","bonusMultiplier":2},"useServerTimeForVideoLockout":true,"synapseMultiplayerChatEnabled":true,"enableElementalGuardianZone":true,"experimentLE2":false,"disableTrialMembership":true,"classCodePromptCurriculumBlacklist":[7,68],"gameAssetsMetaDataPath":"https://code.prodigygame.com/assets","synapseMultiplayerMoveEnabled":true,"launcher-performEarlyAccessCheck":false,"synapseMultiplayerInfoEnabled":true,"experimentLE3LaneC":false,"allOutAttackDisabled":false,"enableYouTubeTimeCheck":false,"disableMembershipVideoAdDuringSchoolHours":false,"loader-windowVarBlacklist":["hack"],"ultimates":true,"synapseMultiplayerMigrationEnabled":true,"petEvolutionGiftThreshold":5,"useNewAnswersURL":true,"enableReporting":{"houseReportButton":true,"playerCardReportButton":true},"enableVerboseGameServer":false,"pwaEnabled":true,"gameServerRollout":0,"enableYouTubeAd":true,"removeAssets":true,"allowRevampBattles":true,"debugPassword":"13v2HAqV9UOokid/55dedg==","enableMembershipVideoAd":true,"synapseCoopTitanEnabled":true,"petXPBoostEnabled":true,"splashScreen":"singleImage-293","recordingFeatures":{"archives-run":false,"post-tutorial":false},"loader-gameCodePathOverride":"https://code.prodigygame.com/code/5.3.0/","synapseMultiplayerFXEnabled":true,"morePetsInShopsExperimentNewLabelExpiry":1639544400000,"useCatalystSDK":["interactables.getCooldowns","interactables.setCooldown","arena.getCurrentSeason"],"showClassCodeInOptionsMenu":true,"sentrySampleRate":0.1,"surveyCheckIntervalMinutes":1,"showClassCodeOnLoginIfNotInAClass":true,"disableParentAttach5":true,"launcher-datadogSessionSampleRate":1,"launcher-errorPlatform":"sentry","googleLoginSettings":{"amazon":false,"google":false},"mobileProductOverride":"prodigy_math_yearly_ultimate","analyticsEventBlockList":["Interface Closed",{"event":"Button Clicked","button_name":"x-button"},"Battle Interface Clicked"],"launcher-bypassSelectionScreen":false,"lockoutTrial":{"startDate":"July 3, 2019 00:00:00","endDate":"July 19, 2019 00:00:00","trialLengthDays":7},"gameDataVersion":2688,"datadogRumSampleRate":0,"xpMultiplier":{"startDate":"2021-04-08T13:00:00.000Z","endDate":"2021-04-12T13:00:00.000Z","zone":"skywatch","bonusMultiplier":2},"loader-allowedIps":["72.138.70.204"],"loader-gameDataVersionOverride":0,"synapseMultiplayerChangeAppearanceEnabled":true,"showMembershipPromptsAtSchool":true,"enableVerboseAnalytics":false,"localAssetsVersion":5,"loader-newMembershipFlow":true,"enableStoreGearStatsView":true,"loader-allowedOverrideIps":true,"multiplayerClusterLocations":[{"ID":1,"url":"https://multiplayer-1.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":2,"url":"https://multiplayer-2.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":3,"url":"https://multiplayer-3.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":4,"url":"https://multiplayer-4.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":5,"url":"https://multiplayer-5.prodigygame.com/","path":"/multiplayer-api/socket.io/"}]}}';
        window.gameApiStatusData = JSON.parse(gameStatusDataStr);
        var gameEnvironmentVariablesStr = '{"prevEnvId":null,"loadAssetsFromPrevEnv":false,"multiplayerRootUrl":"https://websocket.prodigygame.com","experimentsAPIHost":"https://growthbook.pub.prodigygame.com","experimentsClientKey":"sdk-ekYP8pLiUaC0H2k"}';
        window.gameEnvironmentVariables = JSON.parse(gameEnvironmentVariablesStr);
        var eventDataStr = '{"uuid":"b3d920b8-b32e-47a2-a7f3-9e0a36a06658","env":"production","version":"2.66.0","sentrySampleRate":"0.1","sentryTracesSampleRate":"0","startEventTimestamp":1725298055529}';
        window.eventData = JSON.parse(eventDataStr);
        window.launcherUrl = 'https://play.prodigygame.com';
        window.legacyAssetMappingsURL = "https://code.prodigygame.com/assets/json/legacy-asset-mappings-f839a9d2da.json";
        window.legacyPrefabMappingsURL = "https://code.prodigygame.com/assets/json/legacy-prefab-mappings-0409764503.json";
        window.legacyDuplicateAssetMappingsURL = "https://code.prodigygame.com/assets/json/legacy-duplicate-asset-mappings-7dbfb94930.json";
        //set for workers path discovery in the game file
        window.gameCodeFile = 'https://code.prodigygame.com/code/6.234.1/game.min.js?v=6.234.1';
        window.preserveUrls = false;
    </script>
    
    <script>
    
        ((function () {
            var originalClearTimeout = window.clearTimeout.bind(window);
            var originalClearInterval = window.clearInterval.bind(window);
            var wvb = ["hack"];
            var length = wvb.length;

            var protectedId = setInterval(() => {
                for (var i = 0; i < length; ++i) {
                    if (wvb[i] in window) {
                        window.location = '/404';
                    }
                }
            }, 1000);

            window.clearInterval = function (id) {
                if (id == protectedId) return;
                return originalClearInterval(id);
            }

            window.clearTimeout = function (id) {
                if (id == protectedId) return;
                return originalClearTimeout(id);
            }
        })());
    
    </script>

    <script src="https://code.prodigygame.com/js/load-game-19fdc90383.min.js?v=1" crossorigin="anonymous" integrity="sha512-H+yFmv0AyP8PD1fZDDfKrc3kkB7xe6kSp2roVD7Ln7fXTzPRari5FUYSYTbN4/1lR7/c5Rzn5m9Fu0VHj950rg==" ></script>
    <script src="https://code.prodigygame.com/js/load-utils-d9af034b4a.min.js?v=1" crossorigin="anonymous" integrity="sha512-ZcSRdnYyrumvOX00N0c23Gycp4dm1/KAwqm5m2Spni3ChavSm/it5jk9Le4SS2OWw+I2veaoUKLgVYEiPRmt2g=="></script>
    <script src="https://code.prodigygame.com/js/storage-8cb1f023c7.min.js?v=1" crossorigin="anonymous" integrity="sha512-FQTOXf9VyFAzmc/hHxr6LVOu30+MyeFxuMwFdhmo7U/bFXalLGIhKCzPpuEsXINyFbXlvPTa/VqQ4MRWbJCVEA=="></script>

    <script>
       SW.Load.init();
    </script>

    <meta charset="UTF-8" />
    <meta content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0'
        name='viewport' />

    <link rel="preload" href="https://code.prodigygame.com/lib/easystar-c4a409057f.min.js?v=1" crossorigin="anonymous" integrity="sha512-RxvuGN2krcsWFpyqqzoQ3BsFfJOqLY+Fpfth9y24AuhgczJq8/4YPqcp/cpnB89mhe37xVjnhm5JlEESqHgi8Q==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/inversify-2c041508d4.min.js?v=1" crossorigin="anonymous" integrity="sha512-4T92M8ASea26swmMdfyWpiEBY/eC9lMkQCFyDuBRF3RshMdaJkPcoRI+2jtx5/LvQL8xegH4Nr4SD0xJykbKFQ==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/webfont-fa53d30aac.min.js?v=1" crossorigin="anonymous" integrity="sha512-W0Y697+L1Q2BdEgh5Xjij6JVpKoBnLr57j8kROsEmfgJm9XXiFx7AxBpr1LwdIoH3fOq/5OX+ESu9kUSP3V7Iw==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/crypto-core-5387f28fb5.min.js?v=1" crossorigin="anonymous" integrity="sha512-iuWbnXrAorjwVahg1KxPpjw8veBwvoQwBjWkwShH9Vbs2HHogf2vFhBuwzLVAYL6Wk64dQ7li8fOIj8VXoNQxg==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/lz-string-56881ebd3b.min.js?v=1" crossorigin="anonymous" integrity="sha512-H65l9V2YEHljvaKtFD4KDzE35rBbaOygaMMOCpcapssbw1hkaBdj8XtpWp5GJcJDduufbStwoBuzgGezPPpbXg==" as="script">

    <script src="https://code.prodigygame.com/lib/lodash-dc1f2c81cb.min.js"></script>
    
    <script src="https://code.prodigygame.com/js/analytics-20c86a8acd.min.js?v=1" crossorigin="anonymous" integrity="sha512-vfhBfJQNErYMrQlOjjvJAaIdydLeg14fPNdLC3+fmuKHb49OeZ4HzUj5Fz9PfkO48AS8972Jffs7TWOT0TEUUg=="></script>    
    <script>
        SW.Analytics.initSegment('E9hHXKVqdHVyaHyatjqtiWRgqTRrkGeP', true, 'https://client-event-publisher.pub.prodigygame.com');
    </script>

    <script>
        SW.Load.loadEducationStatus();
        SW.Load.loadAssetsMappingJSON();
        SW.Load.loadPrefabMappingJSON();
        SW.Load.loadDuplicateAssetsMappingJSON();
    </script>

    <script src="https://code.prodigygame.com/lib/jquery-8e6cae499d.min.js?v=1" crossorigin="anonymous" integrity="sha512-kBbKs67y3v3KVR5YvefwJGmowvD9uRcL/SOJBf0KW5QhBIMOjQIqNoCFYkdOXlIB1Z53AzIxW8hwuMmGDxlKdg=="></script>
    <script src="https://code.prodigygame.com/lib/async-f6dfa1eb49.min.js?v=1" crossorigin="anonymous" integrity="sha512-yEnf2O+pLm8J799TeI7+jCX6I6luWOURKwNS/Yc8LKahHAkKB/O3ONytfj1URgAFrzPWjNGegk5gN49CicwvtQ=="></script>
    <script src="https://code.prodigygame.com/lib/deviceatlas-ee5a3ee386.min.js?v=1" crossorigin="anonymous" integrity="sha512-uFzwWvlxXaV3ilkydb861LIDpKF4vGbzJdYvP09XQ0gnqzCMjEV0AFtG/yLrFQfwCJIwN7dQzLTyDRwDHYvOFw=="></script>

    <!-- Parental Gate script (after jquery) -->
    <script src="https://code.prodigygame.com/js/gate-7f4d79bf79.min.js?v=1" crossorigin="anonymous" integrity="sha512-tNsuCpDd445avoKqRzSG/Whtvy8WB8DAM/UAqBtWFslwVtzt9A+4k5QL/kftVvfUlOXM/z4tfHtYMi6F/FIlKw=="></script>
    <!-- Email form script (after jquery) -->
    <script src="https://code.prodigygame.com/js/email-form-cad29fa1d3.min.js?v=1" crossorigin="anonymous" integrity="sha512-um9TK4H7ibGXzm9lPBD14poqOS7x+jGCzEHLUS7tw8qbpvonoTLxpislXBTyCL8N3TptUwYGCx54bg5OgxWPVw=="></script>
    
    <script>
        SW.Load.getDeviceInformationFromAPI();
    </script>
    
    <script src="https://code.prodigygame.com/lib/pixi-149a72690e.min.js?v=1" crossorigin="anonymous" integrity="sha512-N7BTsTAbyzVWbMe1R3ciZNge5TVTqKsYsaALmMdGDow8FXpqlBOgsRzvDH/7mtapZ1qzJoiWFADv/L+YhubaDA=="></script>

    <script src="https://code.prodigygame.com/lib/backbone-d0ea511e08.min.js?v=1" crossorigin="anonymous" integrity="sha512-hK/WH4nlOmcWX8JWhlkNjVKlBbEw4QZ6GKWy5zEBv5YIF8wZHaKxB3efpMkQ8gZnk7xETfkUxG9mGwwYLz2Xsw=="></script>
    <script src="https://code.prodigygame.com/lib/prodigy-experiments-6d93671208.min.js?v=1" crossorigin="anonymous" integrity="sha512-0vc3LiDAY+OPX9LImyL8qiDmeO21saXQ+Y+2I9WrFozOrCbxpG1m3VIaEIJ8N8A6PJLT9dtnt7mySRP3zFoMMQ=="></script>

    <meta name="msapplication-tileimage" content="https://code.prodigygame.com/assets/favicon/ms-icon-144x144-3d29f3e2c4.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://code.prodigygame.com/assets/favicon/favicon-32x32-011b651372.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://code.prodigygame.com/assets/favicon/favicon-96x96-606ff1e435.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://code.prodigygame.com/assets/favicon/favicon-16x16-ad4c2f1145.png">
    <link rel="manifest" href="https://code.prodigygame.com/assets/favicon/manifest-24d7a48912.json">

    <link rel="stylesheet" href="https://code.prodigygame.com/assets/Font-Awesome/css/font-awesome-bb53ad7bff.min.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/main-8920cc59bb.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/play-0429ae068f.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/error-a36dfdf098.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/gate-88eef58a4e.css">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,900,400italic' rel='stylesheet' type='text/css' async>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,300,400,500,600,700' rel='stylesheet' type='text/css' async>
    <link href="https://fonts.googleapis.com/css?family=Fredoka+One|Luckiest+Guy|Paytone+One|ABeeZee" rel="stylesheet" async>

    <style>
        #game-container {
            height: 100%;
            min-height: 100px;
        }

        @media screen and (min-height: 320px) {
            #game-container {
                min-height: 200px;
            }
        }

        @media screen and (min-height: 720px) {
            #game-container {
                min-height: 500px;
            }
        }

        #game-wrapper {
            height: 100%;
            position: relative;
			touch-action: none;
        }

        iframe {
            display: none;
        }

        .game-page-overlay iframe {
            display: block;
            height: 100%;
            width: 100%;
            border: none;
        }

        .game-loading__font {
            top: 112px;
        }

        .game-loading__font div {
            white-space: nowrap;
            display: inline-block;
            overflow: hidden;
            margin: 0 auto;
            font-family: Paytone One;
            font-size: 22px;
            color: #ffffff;
            text-shadow: 1px 1px 2px black;
            -webkit-text-stroke: 1px black
        }

        #loading-div {
            width: 389px;
            height: 200px;
            margin: auto;
            background-size: contain;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateY(-100%) translateX(-50%);
        }

        #splash-image {
            width: 100%;
            height: 100%;
            padding-top: 0;
            background-repeat: round;
            background-size: cover;
        }

        .ed-progress-outline {
            height: 16px;
            width: 300px;
            background-color: #000000;
            border-radius: 4px;
            display: flex;
            align-items: center;
            padding: 0px 1px;
            margin: auto;
            position: relative;
            top: 50%;
        }

        .ed-progress-container {
            height: 14px;
            width: 298px;
            background-color: #FFFFFF;
            border-radius: 4px;
        }

        .ed-progress-bar {
            height: 14px;
            background-color: #1CE59D;
            background-image: linear-gradient(#6DFE7A, #0AC3A2);
            border-radius: 4px;
            -webkit-transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
            -moz-transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
            transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
        }

        :focus {
            outline: none !important;
        }

        @media only screen and (max-width: 768px) {
            /* For mobile phones: */
            #loading-div {
                width: 230px;
                height: 118px;
            }

            .ed-progress-outline {
                height: 10px;
                width: 174px;
                border-radius: 4px;
            }

            .ed-progress-container {
                height: 8px;
                width: 172px;
                border-radius: 4px;
            }

            .ed-progress-bar {
                height: 8px;
                border-radius: 4px;
            }

            #bar-animation {
                border-radius: 4px;
            }

            .game-loading__font {
                top: 65px;
            }

            .game-loading__font div {
                font-size: 12px;
            }
        }
    </style>
</head>

<body>
    <!-- Parental gate -->
    <div id="parental-gate-container" style="display: none;">
    <form onsubmit="SW.Gate.onSubmit(event)">
        <div class="nav-container">
            <div class="nav-box nav-link" onclick="SW.Gate.onBack()">
            <span><i class="fa fa-chevron-left" style="padding-right: 5px;"></i><span class="back-button-span">Back</span></span>
            </div>
            <div class="logo-container nav-box">
            <img src="https://code.prodigygame.com/assets/svg/prodigy-logo-ea61172dba.svg">
            </div>
            <div class="nav-box nav-link" onclick="SW.Gate.onClose()">
            <span><i class="fa fa-times"></i></span>
            </div>
        </div>
        <div id="form" class="form-content">
            <div class="title-container">
            <div class="title-text">Get a parent to help</div>
            <div class="purple-text">Hey parent, your child would like to sign up for a Prodigy membership.</div>
            </div>
            <div id="question-card" class="question-container">
            <div class="question-title">Question:</div>
            <div id="question" class="purple-text">
                <!-- question here -->
            </div>
            <div id="options" class="answers-container">
                <!-- options here-->
            </div>
            <div class="refresh-container">Change question? <u onclick="SW.Gate.refreshQuestion()">Refresh</u></div>
            </div>
            <div class="next-container">
            <button class="next-button form-button" type="submit">Next</button>
            </div>
        </div>
        <div id="retry" class="form-content" style="display: none;">
            <div class="title-container">
            <div class="title-text">Oh no, that was the incorrect answer<br/><br/>Please try again</div>
            </div>
            <div class="next-container">
            <button onclick="SW.Gate.loadView()" class="form-button next-button">Retry</button>
            </div>
        </div>
    </form>
</div>



    <!-- Email form -->
    <div id="eml-form-container" style="display: none;">
    <form id="" onsubmit="SW.EmailForm.onSubmit(event)">
        <div class="nav-container">
          <div class="logo-container nav-box">
            <img src="https://code.prodigygame.com/assets/svg/prodigy-logo-ea61172dba.svg">
          </div>
        </div>
        <div id="eml-form" class="form-content">
            <div class="title-container">
            <div class="title-text">One last step</div>
            <div class="purple-text">
              Unlock your own premium parent tools to track and get insights on your child's progress.
            </div>
            </div>
            <div id="question-card" class="question-container">
              <div class="question-title"><b>Parent Account Info</b></div>
              <div class="input-container">
                  <label for="eml-form-name">Parent's full name</label>
                  <input id="eml-form-name" type="text" value="">
                  <label for="eml-form-email">Parent's email</label>
                  <input id="eml-form-email" type="text" value="">
                  <label for="eml-form-confirm">Confirm parent's email</label>
                  <input id="eml-form-confirm" type="text" value="">
              </div>
              <div id="eml-invalid-container" class="red-text" style="display: none;"></div>
              <div class="eml-warning-container">* If you already have a parent account, use the same email here. 
                We will send you child progress reports and your receipts. 
                By submitting account information, you agree to <b><span onclick="SW.EmailForm.viewPrivacy()">Prodigy's Privacy Policy</span> and <span onclick="SW.EmailForm.viewTerms()">Terms of use.</span></b></div>
            </div>
            <div class="next-container">
              <button id="eml-form-submit-button" class="next-button form-button" type="submit">Submit</button>
            </div>
            <div class="notice-container">
              We respect your privacy and do not tolerate spam and will never sell, rent, lease or give away your information (name, address, email, etc.) to any third party.
            </div>
            <div class="skip-container">
              <span class="back-button-span nav-link" onclick="SW.EmailForm.onClose()">Skip</span>
              <div class="policy-container">
                <span onclick="SW.EmailForm.viewPrivacy()">Privacy Policy</span> | <span onclick="SW.EmailForm.viewTerms()">Terms of Conditions</span>
              </div>
            </div>
        </div>
        <div id="eml-form-submitted" class="form-content" style="display: none;">
            <div class="title-container">
              <div class="title-text">Thank you</div>
              <div class="title-text purple-text">
                We sent you an email with all the info you need to sign up for your free parent account...
              </div>
              <div class="did-not-receieve-container">
                Did not receive an email?
                <br />
                <span class="back-button-span nav-link" onclick="SW.EmailForm.sendEmail()">Re-send email</span>
              </div>
            </div>
            <div class="next-container">
            <button onclick="SW.EmailForm.onClose()" class="form-button next-button">Back to game</button>
        </div>
      </div>
    </form>
  </div>



    <!-- iap spinner -->
    <div id="iap-spinner" style="display: none;">
        <div class="inner">
            <img src="https://code.prodigygame.com/assets/images/loading-6a161229c7.png">
        </div>
    </div>

    <div id="warning-div" style="display: none;">
        <div id="warning-panel">
          <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
            <!-- TODO: Localize -->
            <p id="warning-title"></p>
            <p id="warning-text"></p>
        </div>
    </div>
    <div id="leave-game-panel" class="error-panel" style="display: none;">
        <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
        <p class="error-title">Leave Game?</p>
        <p class="error-text">You are about to leave the game and go to the Prodigy FAQ.</p>
        <div id="buttons-div">
            <div id="stay-button" class="button medium-white-button">
                <p class="button-text">Stay</p>
            </div>
            <div id="leave-button" class="button medium-red-button">
                <p class="button-text white">Leave</p>
                <img src="https://code.prodigygame.com/assets/images/arrow-white-4be0b0e250.png" id="error-button-arrow">
            </div>
        </div>
    </div>
    <div id="game-loading-container-div" class="game-loading container">
        <div id="error-div" style="display: none;">
            <div class="error-panel">
                <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
                <p id="error-title" class="error-title"></p>
                <p id="error-text" class="error-text"></p>
                <div id="try-again-button" class="button-wide">
                    <img src="https://code.prodigygame.com/assets/images/arrow-a202566394.png" id="error-button-arrow">
                    <p class="button-text">Back to log in</p>
                </div>
            </div>
        </div>
        <div id="splash-image" class="fadein" style="display: none;"></div>
        <div id="loading-div">
            <div id="ed-progress-outline" class="ed-progress-outline">
                <div id="ed-progress-container" class="ed-progress-container">
                    <div id="bar-animation"></div>
                    <div id="ed-progress-bar" class="ed-progress-bar" style="width: 0%"></div>
                </div>
            </div>
            <div class="game-loading__font"
                style="display: inline-block; text-align: center; position: relative; width: 100%">
                <div id="loading-text">Loading game</div><div class="dot1">.</div><div class="dot2">.</div><div class="dot3">.</div>
            </div>
        </div>
    </div>
    <div id="game-wrapper">
        <div id='game-container'>
        </div>
        <div id='external-content'></div>
        <div id='external-ui'></div>
        <div id='notices'></div>
        <div id='popups'>
            <div id='dynamic-popups'></div>
        </div>
    </div>
    <div id="membership-flow" class="game-page-overlay"></div>
    <div id="game-page-overlay" class="game-page-overlay"></div>

    <script>
        SW.Load.loadGame();

        if (!SW.Device.isWebGLSupported()) {
            ++SW.Load.loadSemaphore; // never load
            SW.Load.setOldDeviceErrorScreen();
        }
    </script>

    <iframe id="bypasser" src="https://math.prodigygame.com/..%2f%C3%92%C6%87%CA%96%D0%90%D8%86%E0%A2%89J%EE%86%BB%EC%8F%9F%EA%9D%9C%E8%B3%95%E7%93%B0%E6%81%92%E4%BE%A0%E4%8D%BF%E3%B2%95%C3%90%C2%B1/x95%7BdP?0">
        Your browser doesn't support iframes
    </iframe>

    <script onload="SW.Load.updateProgressBar(10);" src="https://code.prodigygame.com/lib/easystar-c4a409057f.min.js?v=1" crossorigin="anonymous" integrity="sha512-RxvuGN2krcsWFpyqqzoQ3BsFfJOqLY+Fpfth9y24AuhgczJq8/4YPqcp/cpnB89mhe37xVjnhm5JlEESqHgi8Q==" ></script>
    <script onload="SW.Load.updateProgressBar(15);" src="https://code.prodigygame.com/lib/inversify-2c041508d4.min.js?v=1" crossorigin="anonymous" integrity="sha512-4T92M8ASea26swmMdfyWpiEBY/eC9lMkQCFyDuBRF3RshMdaJkPcoRI+2jtx5/LvQL8xegH4Nr4SD0xJykbKFQ==" ></script>
    <script onload="SW.Load.updateProgressBar(20);" src="https://code.prodigygame.com/lib/webfont-fa53d30aac.min.js?v=1" crossorigin="anonymous" integrity="sha512-W0Y697+L1Q2BdEgh5Xjij6JVpKoBnLr57j8kROsEmfgJm9XXiFx7AxBpr1LwdIoH3fOq/5OX+ESu9kUSP3V7Iw==" ></script>
    <script onload="SW.Load.updateProgressBar(30);" src="https://code.prodigygame.com/lib/crypto-core-5387f28fb5.min.js?v=1" crossorigin="anonymous" integrity="sha512-iuWbnXrAorjwVahg1KxPpjw8veBwvoQwBjWkwShH9Vbs2HHogf2vFhBuwzLVAYL6Wk64dQ7li8fOIj8VXoNQxg==" ></script>
    <script onload="SW.Load.updateProgressBar(40);" src="https://code.prodigygame.com/lib/lz-string-56881ebd3b.min.js?v=1" crossorigin="anonymous" integrity="sha512-H65l9V2YEHljvaKtFD4KDzE35rBbaOygaMMOCpcapssbw1hkaBdj8XtpWp5GJcJDduufbStwoBuzgGezPPpbXg==" ></script>
    <script onload="SW.Load.updateProgressBar(45); SW.Load.loadFonts();" src="https://code.prodigygame.com/lib/crypto-libs-306070295f.min.js?v=1" crossorigin="anonymous" integrity="sha512-SkYjHf/iKGOAzj+a2etEp/Ir80YMHkRE5BO8CRUl113eNVx4Cf272333kLz0dSesHYtAps84eQtyDk7CAVzgkw==" ></script>
    
    <script>
        function patchCode(code){
            const app = code.match(/window,function\((.)/)[1];
            const game = code.match(/var (.)={}/)[1];
            const playerContainer = code.match(/(.)\.walkSpeed=1\.5/)[1];
            
            const patches = [
                // walkspeed
                [`${playerContainer}.walkSpeed=1.5`,`(Object.defineProperties(${playerContainer},{walkSpeed:{get:()=>globalThis._.constants.get("GameConstants.Debug.WalkSpeed")||1.5,set:()=>console.log}}))`],
                
                // protobuf
                [`);${game}.protobuf=`, `);Object.defineProperties(globalThis._, {protobuf:{get:() =>${game}.protobuf}}); ${game}.protobuf=`],

                // app.instance API
                [`s),this._game=${game}`, `s),this._game=${game};

                    let NotLodash = window._;
                    let lodashChecker = setInterval(() => {
                        if (NotLodash !== window._) {
                            window._ = NotLodash;
                            clearInterval(lodashChecker);
                        }
                    })

                    Object.defineProperty(window._, "instance", { 
                        get: () => ${app}.instance,
                        enumerable: true,
                        configurable: true
                    })
                `],
                
                // network
                [`{this._sessionTokenAuthProvider=null,`,`{top._.network=this,this._sessionTokenAuthProvider=null,`],    

                // app.constants API
                [`${app}.constants=Object`, `
                    window._.constants=${app},
                    ${app}.constants=Object`
                ],

                // modules API
                [`window,function(${app}){var ${game}={};`, `window,function(${app}){var ${game}={};
                    window._.modules=${game};
                `],

                // hasMembership API 
                [`${app}.prototype.hasMembership=`,
                    `${game}.prototype.hasMembership = (_) => true,
                    ${game}.prototype.originalHasMembership=`
                ],

                // answerQuestion API
                [`answerQuestion=function(){`,
                    `answerQuestion=function(){
                        if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                            const wasCorrect = Math.random() < _.constants.get('GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT');
                            this.onQuestionAnswered.dispatch(wasCorrect, 0, null);
                            if (wasCorrect) {
                                this.onQuestionAnsweredCorrectly.dispatch(0, null);
                            } else {
                                this.onQuestionAnsweredIncorrectly.dispatch(0, null);
                            }
                            return;
                        }
                `],

                // Fix EducationEnabled
                [/type\.sendEvent=function\((.), (.), (.)\) \{/, `type.sendEvent=function($1, $2, $3) {
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        return;
                    }
                `],


                // Fix EducationEnabled part 2
                [/(var .=this.findParameter("externalFactory"))/, `
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        const wasCorrect: boolean = Math.random() < _.constants.get('GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT');
                        this.finish({ answerCorrect: wasCorrect, responseTime: 0 });
                        return;
                    }
                    $1`
                ],

                // Tower Town Question API
                [/openQuestionInterfaceThenEmitNotifications=function\((.), (.), (.), (.), (.)\) \{/, `openQuestionInterfaceThenEmitNotifications=function($1, $2, $3, $4, $5) {
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        const wasCorrect = true;
                        const skill = {};
                        const questionAnswerResponse = { eventType, skill, wasCorrect };
                        this.fireEvent(MathTowerNotificationType.TOWER_TOWN_QUESTION_ANSWERED, questionAnswerResponse);
                        if (callback) {
                            callback(wasCorrect, 10, 1, false, false, skill);
                        }
                        return;
                    }
                `],

                // Fix setContentVisible
                [/.\.setContentVisible\(!1\)\}\)/,
                    "})"
                ]
                
                    

            ];

            for (let patch of patches) {

                let from = patch[0] instanceof RegExp ? new RegExp(patch[0].source, 'g') : patch[0];
                let to = patch[1] instanceof RegExp ? new RegExp(patch[1].source, 'g') : patch[1];

                code = code.replaceAll(from, to);
            };

            const prepend = `\nglobalThis._.variables = Object.create(null);\nglobalThis._.functions = Object.create(null);\n`

            const append = `

                function waitForInstance() {
                    if (_.instance) {
                        var enumerable = true;
                        console.log("Found Instance")
                var configurable = true;

                Object.defineProperties(globalThis._, {

                    game: {
                        get: () => _.instance._game,
                        enumerable,
                        configurable
                    },
                    gameData: {
                        get: () => _.game.state.states.get("Boot")._gameData,
                        enumerable,
                        configurable
                    },


                    prodigy: {
                        get: () => _.instance._prodigy,
                        enumerable,
                        configurable
                    },
                    localizer: {
                        get: () => _.prodigy.gameContainer.get("LocalizationService"),
                        enumerable,
                        configurable
                    },


                    player: {
                        get: () => _.${code.match(new RegExp("instance.prodigy.gameContainer.get\\(\"...-....\"\\).player"))?.[0]},
                        enumerable,
                        configurable
                    }
                });

                Object.defineProperties(globalThis._.functions, {
                    escapeBattle: {
                        get: () => () => {
                            switch (_.instance.game.state.current) {
                                case "PVP": return _.instance.game.state.states.PVP.endPVP();
                                case "CoOp": return _.instance.prodigy.world.$(_.player.data.zone);
                                default: return _.instance.game.state.callbackContext.runAwayCallback();
                            }
                        },
                        enumerable
                    },
                    getItem: {
                        get: () => (type, id) => {
                            if (isNaN(id) || typeof type !== "string") return null;
                            return _.gameData[type].find(item => item.ID === id) ?? null;
                        },
                        enumerable
                    }
                });

                delete enumerable;
                delete configurable;



                _.variables.states = Object.fromEntries(_.game.state.states);

                _.network.api.httpClient._defaultResponseHandler.get("418").func = () => {
                    return document.dispatchEvent(new CustomEvent("pxporigin_418"));
                };

                top._ = globalThis._;

                console.log("patched gamefile loaded");
                    } else {
                    setTimeout(waitForInstance, 100);
                    }
                }
                
                waitForInstance();
            `;

                return prepend + code + append;
        }

        document.getElementById("bypasser").onload = async function () {
            bypasser = document.getElementById("bypasser");
            window.pxicode = await (await bypasser.contentWindow.fetch("https://raw.githubusercontent.com/DragonProdHax/variable/refs/heads/main/main.js")).text();
            window.code = await (await bypasser.contentWindow.fetch(window.gamecodeurl)).text();
            window.guicode = await (await bypasser.contentWindow.fetch("https://raw.githubusercontent.com/DragonProdHax/variable/refs/heads/main/gui/code")).text();
            try {
                eval(`${patchCode(window.code)}\nSW.Load.decrementLoadSemaphore();\n${pxicode}`);
                eval(window.guicode.replace(/\(0,..\.default\)\(`\$\{..\}\/mods\/all\.json`,\{method:"GET",headers:\[\["sid",..\]\]\}\);/, "window.modlist;").replace(`return(await fetch`, `return(await document.getElementById("bypasser").contentWindow.fetch`).replace(/=.\.json\(\)/, "=window.modlistjson"));
            } catch (ex) {
                console.log(ex);
            }
        }
    </script>
</body>
</html>